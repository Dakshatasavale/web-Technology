<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto Price Tracker</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .container { max-width: 900px; margin: auto; }
    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .crypto-card { border: 1px solid #ccc; border-radius: 8px; padding: 16px; margin: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
    .crypto-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 16px; }
    input[type="text"] { padding: 8px; width: 300px; }
    button { padding: 8px 16px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Crypto Price Tracker</h1>
    <div class="header">
      <input type="text" id="searchInput" placeholder="Search cryptocurrency...">
      <button id="refreshButton">Refresh</button>
    </div>
    <div class="crypto-list" id="cryptoList"></div>
  </div>

  <script>
    function fetchCryptos() {
      $("#cryptoList").html("Loading...");
      $.ajax({
        url: "https://api.coingecko.com/api/v3/coins/markets",
        method: "GET",
        data: {
          vs_currency: "inr",
          order: "market_cap_desc",
          per_page: 50,
          page: 1,
          sparkline: false
        },
        success: function(data) {
          renderCryptos(data);
        },
        error: function(error) {
          $("#cryptoList").html("Failed to load data");
          console.error("Error fetching crypto data:", error);
        }
      });
    }

    function renderCryptos(cryptos) {
      const searchTerm = $("#searchInput").val().toLowerCase();
      const filtered = cryptos.filter(crypto => crypto.name.toLowerCase().includes(searchTerm));
      const html = filtered.map(crypto => `
        <div class="crypto-card">
          <h2>${crypto.name} (${crypto.symbol.toUpperCase()})</h2>
          <p>â‚¹${crypto.current_price.toLocaleString()}</p>
        </div>
      `).join("");
      $("#cryptoList").html(html);
    }

    $(document).ready(function() {
      fetchCryptos();

      $("#refreshButton").click(function() {
        fetchCryptos();
      });

      $("#searchInput").on("input", function() {
        fetchCryptos();
      });
    });
  </script>
</body>
</html>
